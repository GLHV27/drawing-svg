!function(e){function t(e){var t=k[e];if(!t)return l;var o=function(n){return t.hot.active?(k[n]?k[n].parents.indexOf(e)<0&&k[n].parents.push(e):(m=[e],c=n),t.children.indexOf(n)<0&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),m=[]),l(n)};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&"e"!==i&&Object.defineProperty(o,i,function(e){return{configurable:!0,enumerable:!0,get:function(){return l[e]},set:function(t){l[e]=t}}}(i));return o.e=function(e){function t(){E--,"prepare"===_&&(O[e]||r(e),0===E&&0===P&&s())}return"ready"===_&&n("prepare"),E++,l.e(e).then(t,function(e){throw t(),e})},o}function n(e){_=e;for(var t=0;t<w.length;t++)w[t].call(null,e)}function o(e){return+e+""===e?+e:e}function i(e){if("idle"!==_)throw new Error("check() is only allowed in idle status");return h=e,n("check"),(t=v,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=l.p+""+g+".hot-update.json";o.open("GET",i,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return n("idle"),null;C={},O={},S=e.c,p=e.h,n("prepare");var t=new Promise(function(e,t){f={resolve:e,reject:t}});return d={},r(0),"prepare"===_&&0===E&&0===P&&s(),t});var t}function r(e){S[e]?(C[e]=!0,P++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=l.p+""+e+"."+g+".hot-update.js",t.appendChild(n)}(e)):O[e]=!0}function s(){n("ready");var e=f;if(f=null,e)if(h)Promise.resolve().then(function(){return a(h)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&t.push(o(i));e.resolve(t)}}function a(t){function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];e.indexOf(o)<0&&e.push(o)}}if("ready"!==_)throw new Error("apply() is only allowed in ready status");var r,s,a,u,c;t=t||{};var f={},h=[],v={},b=function(){console.warn("[HMR] unexpected require("+P.moduleId+") to disposed module")};for(var w in d)if(Object.prototype.hasOwnProperty.call(d,w)){var P;c=o(w);var E=!1,O=!1,C=!1,x="";switch((P=d[w]?function(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),s=r.id,a=r.chain;if((u=k[s])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var l=0;l<u.parents.length;l++){var c=u.parents[l],f=k[c];if(f){if(f.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([c]),moduleId:s,parentId:c};t.indexOf(c)>=0||(f.hot._acceptedDependencies[s]?(n[c]||(n[c]=[]),i(n[c],[s])):(delete n[c],t.push(c),o.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}(c):{type:"disposed",moduleId:w}).chain&&(x="\nUpdate propagation: "+P.chain.join(" -> ")),P.type){case"self-declined":t.onDeclined&&t.onDeclined(P),t.ignoreDeclined||(E=new Error("Aborted because of self decline: "+P.moduleId+x));break;case"declined":t.onDeclined&&t.onDeclined(P),t.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+P.moduleId+" in "+P.parentId+x));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(P),t.ignoreUnaccepted||(E=new Error("Aborted because "+c+" is not accepted"+x));break;case"accepted":t.onAccepted&&t.onAccepted(P),O=!0;break;case"disposed":t.onDisposed&&t.onDisposed(P),C=!0;break;default:throw new Error("Unexception type "+P.type)}if(E)return n("abort"),Promise.reject(E);if(O)for(c in v[c]=d[c],i(h,P.outdatedModules),P.outdatedDependencies)Object.prototype.hasOwnProperty.call(P.outdatedDependencies,c)&&(f[c]||(f[c]=[]),i(f[c],P.outdatedDependencies[c]));C&&(i(h,[P.moduleId]),v[c]=b)}var M,D=[];for(s=0;s<h.length;s++)c=h[s],k[c]&&k[c].hot._selfAccepted&&D.push({module:c,errorHandler:k[c].hot._selfAccepted});n("dispose"),Object.keys(S).forEach(function(e){!1===S[e]&&function(e){delete installedChunks[e]}(e)});for(var T,A,j=h.slice();j.length>0;)if(c=j.pop(),u=k[c]){var N={},L=u.hot._disposeHandlers;for(a=0;a<L.length;a++)(r=L[a])(N);for(y[c]=N,u.hot.active=!1,delete k[c],delete f[c],a=0;a<u.children.length;a++){var z=k[u.children[a]];z&&(M=z.parents.indexOf(c))>=0&&z.parents.splice(M,1)}}for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(u=k[c]))for(A=f[c],a=0;a<A.length;a++)T=A[a],(M=u.children.indexOf(T))>=0&&u.children.splice(M,1);for(c in n("apply"),g=p,v)Object.prototype.hasOwnProperty.call(v,c)&&(e[c]=v[c]);var I=null;for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(u=k[c])){A=f[c];var R=[];for(s=0;s<A.length;s++)if(T=A[s],r=u.hot._acceptedDependencies[T]){if(R.indexOf(r)>=0)continue;R.push(r)}for(s=0;s<R.length;s++){r=R[s];try{r(A)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:A[s],error:e}),t.ignoreErrored||I||(I=e)}}}for(s=0;s<D.length;s++){var V=D[s];c=V.module,m=[c];try{l(c)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:r,orginalError:e,originalError:e}),t.ignoreErrored||I||(I=r),I||(I=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||I||(I=e)}}return I?(n("fail"),Promise.reject(I)):(n("idle"),new Promise(function(e){e(h)}))}function l(n){if(k[n])return k[n].exports;var o=k[n]={i:n,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:c!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:i,apply:a,status:function(e){if(!e)return _;w.push(e)},addStatusHandler:function(e){w.push(e)},removeStatusHandler:function(e){var t=w.indexOf(e);t>=0&&w.splice(t,1)},data:y[e]};return c=void 0,t}(n),parents:(b=m,m=[],b),children:[]};return e[n].call(o.exports,o,o.exports,t(n)),o.l=!0,o.exports}var u=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(S[e]&&C[e]){for(var n in C[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(d[n]=t[n]);0==--P&&0===E&&s()}}(e,t),u&&u(e,t)};var c,f,d,p,h=!0,g="f195f16ac45d1e6b4f53",v=1e4,y={},m=[],b=[],w=[],_="idle",P=0,E=0,O={},C={},S={},k={};l.m=e,l.c=k,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.h=function(){return g},t(3)(l.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS={START_WAITING:"startWaiting",CREATE_POLYGON:"createPolygon",REMOVE_POLYGON:"removePolygon",CUSTOM_CLICK:"customClick",END_PAN_STOP_ANIMATE:"endPanStopAnimate"},t.MOUSE_CODE={LEFT:0,WHEEL:1,RIGHT:2},t.KEY_CODE={ESCAPE:27,DELETE:46},t.CLASSES={svg:"drawing-svg",circle:"drawing-svg__circle",circleFirst:"drawing-svg__circle_first",circleLast:"drawing-svg__circle_last",polygon:"drawing-svg__polygon",polygonDrawing:"drawing-svg__polygon_drawing",polygonFocus:"drawing-svg__polygon_focus",polygonDisabled:"drawing-svg__polygon_disabled"},t.DEF_PARAMS={circle:{radius:8}},t.ZOOM={BOUNDS:!1,FACTOR:.03,MAX:3,DURATION:100}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(6),s=(o=r)&&o.__esModule?o:{default:o},a=n(0),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"customClick",value:function(e){var t=this,n=void 0,o=void 0;e.on("mousedown",function(e){n=e.clientX,o=e.clientY}).on("mouseup",function(e){e.button===a.MOUSE_CODE.LEFT&&n===e.clientX&&o===e.clientY&&t.svg.fire(a.EVENTS.CUSTOM_CLICK,{ev:e})})}},{key:"getCoordinates",value:function(e){var t=this.svg.viewbox(),n=(0,s.default)(this.svg.node),o=e.pageX-n.left,i=e.pageY-n.top;return t.zoom&&(o/=t.zoom,i/=t.zoom),{x:o+t.x,y:i+t.y}}},{key:"getOriginSize",value:function(){return{width:this.svg.bbox().width,height:this.svg.bbox().height}}},{key:"createElem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.svg[e](t).addClass(a.CLASSES.polygon);return n.addTo(this.groupPolygons),n}},{key:"createCircle",value:function(e,t){var n=a.DEF_PARAMS.circle,o=this.svg.circle(n.radius).cx(e).cy(t).addClass(a.CLASSES.circle);return o.addTo(this.groupCircles),o}},{key:"triggerCallback",value:function(e){if(e&&"function"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];e(n)}}}]),e}();t.default=l},function(e,t){e.exports=svg.js},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=o(n(2)),a=o(n(5)),l=o(n(11)),u=o(n(12)),c=o(n(1)),f=n(0);n(13);var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.elem=e,o.image=n.image||null,o.width=n.width||"100%",o.height=n.height||"100%",o.responsive=n.responsive||!1,o.zoom=n.zoom||{},o.polygons=n.polygons||[],o.callbacks=i({onAfterCreatPolygon:null,onBeforeRemovePolygon:null},n.callbacks),o.children=[],o.init(),console.log("DrawingSVG",o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),r(t,[{key:"init",value:function(){this.svg=(0,s.default)(this.elem).size(this.width,this.height).addClass(f.CLASSES.svg),this.image?this.image=this.svg.image(this.image).loaded(this.onLoadedImage.bind(this)):this.initSVG()}},{key:"initSVG",value:function(){this.svg.viewbox(0,0,this.getOriginSize().width,this.getOriginSize().height),this.groupPolygons=this.svg.group(),this.groupCircles=this.svg.group(),new a.default(this.svg,{groupPolygons:this.groupPolygons,groupCircles:this.groupCircles}),Object.keys(this.zoom).length&&new l.default(this.svg,i({},this.zoom,{image:this.image})),this.polygons.length&&this.createPolygons(),this.svg.on(f.EVENTS.CREATE_POLYGON,this.onCreatePolygon.bind(this)).on(f.EVENTS.REMOVE_POLYGON,this.removePolygon.bind(this))}},{key:"onCreatePolygon",value:function(e){var t=e.detail;this.createPolygon(t)}},{key:"onLoadedImage",value:function(e){var t=this;this.responsive?(window.addEventListener("resize",function(){t.setSize(e)},!1),this.setSize(e)):this.svg.size(e.width,e.height),this.initSVG()}},{key:"setSize",value:function(e){var t=this.elem.getBoundingClientRect().width;this.svg.size(t,t/e.ratio)}},{key:"createPolygons",value:function(){var e=this;this.polygons.map(function(t){e.createPolygon({points:t})})}},{key:"createPolygon",value:function(e){var t=new u.default(this.svg,{plot:e.points,index:this.children.length,groupPolygons:this.groupPolygons,groupCircles:this.groupCircles,onAfterCreatPolygon:this.callbacks.onAfterCreatPolygon,onBeforeRemovePolygon:this.callbacks.onBeforeRemovePolygon});this.children.push(t)}},{key:"removePolygon",value:function(e){var t=e.detail.index;this.children.splice(t,1),this.svg.fire(f.EVENTS.START_WAITING)}},{key:"destroy",value:function(){this.svg.remove(),this.children=[],this.svg=null,this.image=null,this.groupPolygons=null,this.groupCircles=null}}]),t}();window.DrawingSVG=d,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),s=(o=r)&&o.__esModule?o:{default:o},a=n(0),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.svg=e,o.elem=null,o.points=[],o.groupPolygons=n.groupPolygons,o.groupCircles=n.groupCircles,o.init(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"init",value:function(){var e=this;this.customClick(this.svg),this.svg.on("startWaiting",function(){e.svg.on(a.EVENTS.CUSTOM_CLICK,e.start.bind(e))}).fire("startWaiting").on("contextmenu.Draw",function(e){return e.preventDefault()})}},{key:"start",value:function(e){e=e.detail.ev,this.svg.node!==e.target&&"circle"!==e.target.tagName&&"image"!==e.target.tagName||(this.disabled(),this.elem=this.createElem("polyline").addClass(a.CLASSES.polygonDrawing),"circle"===e.target.tagName?this.onClickCircle(e):this.createPoint(e),this.updateClassesCircle(),this.svg.off(a.EVENTS.CUSTOM_CLICK).on("mousemove.Draw",this.onMouseMoveSVG.bind(this)).on("mouseup.Draw",this.onClickSVG.bind(this)).on(a.EVENTS.END_PAN_STOP_ANIMATE,this.endPanStopAnimate.bind(this)).on(a.EVENTS.CUSTOM_CLICK,this.onClickLeftMouseButton.bind(this)))}},{key:"stopDrawing",value:function(){var e=this.getPlot();this.offEventsDraw(),this.disabled(!1),this.remove(),this.curEventMouse=null,this.svg.fire(a.EVENTS.CREATE_POLYGON,{points:e})}},{key:"offEventsDraw",value:function(){this.svg.off("mouseup.Draw").off("mousemove.Draw").off(a.EVENTS.CUSTOM_CLICK).off(a.EVENTS.END_PAN_STOP_ANIMATE)}},{key:"onClickSVG",value:function(e){e.button===a.MOUSE_CODE.RIGHT&&this.onClickRightMouseButton(e)}},{key:"onClickLeftMouseButton",value:function(e){if("circle"==(e=e.detail.ev).target.tagName){var t=this.isCircle(e.target);return!(t&&e.target!==this.points[0].node||1===this.points.length&&t||(e.target===this.points[0].node&&this.points.length>1?(this.stopDrawing(),1):(this.onClickCircle(e),1)))}this.createPoint(e)}},{key:"onClickRightMouseButton",value:function(){this.removeLastPoint()}},{key:"onClickCircle",value:function(e){this.createPoint(e.target.instance),this.updatePlot()}},{key:"onMouseMoveSVG",value:function(e){this.curEventMouse=e,this.updatePlot()}},{key:"updatePlot",value:function(){var e=this.getPlot();if(this.curEventMouse){var t=this.getCoordinates(this.curEventMouse);e.push([t.x,t.y])}this.elem.plot(e)}},{key:"updateClassesCircle",value:function(){var e=this;this.points.map(function(t,n){t.removeClass(a.CLASSES.circleLast),0===n?t.addClass(a.CLASSES.circleFirst):n===e.points.length-1&&t.addClass(a.CLASSES.circleLast)})}},{key:"getPlot",value:function(){var e=[];return this.points.map(function(t){e.push([t.cx(),t.cy()])}),e}},{key:"isCircle",value:function(e){return!!this.points.find(function(t){return e===t.node})}},{key:"removeLastPoint",value:function(){this.points[this.points.length-1].remove(),this.points.pop(),this.points.length?(this.updatePlot(),this.updateClassesCircle()):(this.points=[],this.offEventsDraw(),this.disabled(!1),this.elem.remove(),this.svg.fire("startWaiting"))}},{key:"remove",value:function(){for(var e=this.points.length,t=0;t<e;t++)this.removeLastPoint();this.elem.remove()}},{key:"createPoint",value:function(e){var t=null;t=e.target?this.getCoordinates(e):{x:e.cx(),y:e.cy()};var n=this.createCircle(t.x,t.y);this.points.push(n),this.updateClassesCircle()}},{key:"disabled",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.groupPolygons.children().map(function(t){e?t.addClass(a.CLASSES.polygonDisabled):t.removeClass(a.CLASSES.polygonDisabled)})}},{key:"endPanStopAnimate",value:function(){this.updatePlot()}}]),t}();t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,s.default)(e),n=(0,r.default)(t),o=t&&t.documentElement,a={top:0,left:0,height:0,width:0};if(t)return(0,i.default)(o,e)?(void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect()),a={top:a.top+(n.pageYOffset||o.scrollTop)-(o.clientTop||0),left:a.left+(n.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:(null==a.width?e.offsetWidth:a.width)||0,height:(null==a.height?e.offsetHeight:a.height)||0}):a};var i=o(n(7)),r=o(n(9)),s=o(n(10));e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(8),s=(i=r)&&i.__esModule?i:{default:i};t.default=s.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=o(n(2)),s=o(n(1)),a=n(0),l=function(e){return e.touches||(e.touches=[{clientX:e.clientX,clientY:e.clientY}]),e.touches},u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.svg=e,o.bounds=n.bounds||a.ZOOM.BOUNDS,o.zoomFactor=n.zoomFactor||a.ZOOM.FACTOR,o.zoomMin=n.zoomMin||o.getZoomMin(),o.zoomMax=n.zoomMax||a.ZOOM.MAX,o.duration=n.duration||a.ZOOM.DURATION,o.wheelZoom=o.wheelZoom.bind(o),o.panStart=o.panStart.bind(o),o.panning=o.panning.bind(o),o.panStop=o.panStop.bind(o),o.init(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"init",value:function(){this.zoomInProgress=!1,this.lastTouches=null,this.lastP=null,this.svg.on("wheel.panZoom",this.wheelZoom).on("mousedown.panZoom",this.panStart,this),console.log("DrawingSVG-Zoom",this)}},{key:"getZoomMin",value:function(){return this.svg.width()/this.getOriginSize().width}},{key:"wheelZoom",value:function(e){if(e.preventDefault(),0!=e.deltaY){var t=this.zoom()-this.zoomFactor*e.deltaY/Math.abs(e.deltaY),n=this.svg.point(e.clientX,e.clientY);t>this.zoomMax&&(t=this.zoomMax),t<this.zoomMin&&(t=this.zoomMin),this.zoom(t,n)}}},{key:"panStart",value:function(e){this.svg.off("mousedown.panZoom",this.panStart),this.lastTouches=l(e),this.zoomInProgress||(this.svg.fire("panStart",{event:e}),this.lastP={x:this.lastTouches[0].clientX,y:this.lastTouches[0].clientY},r.default.on(document,"mousemove.panZoom",this.panning,this),r.default.on(document,"mouseup.panZoom",this.panStop,this))}},{key:"panStop",value:function(e){var t=this;if(e.preventDefault(),this.svg.fire("panEnd",{event:e}),this.bounds){var n=this.svg.viewbox(),o=this.checkBounds(this.svg.viewbox());n.x===o.x&&n.y===o.y||this.svg.animate(this.duration).viewbox(o).after(function(e){t.svg.fire(a.EVENTS.END_PAN_STOP_ANIMATE)})}r.default.off(document,"mousemove.panZoom",this.panning),r.default.off(document,"mouseup.panZoom",this.panStop),this.svg.on("mousedown.panZoom",this.panStart)}},{key:"panning",value:function(e){e.preventDefault();var t=l(e),n={x:t[0].clientX,y:t[0].clientY},o=this.svg.point(n.x,n.y),i=this.svg.point(this.lastP.x,this.lastP.y),s=[i.x-o.x,i.y-o.y],a=new r.default.Box(this.svg.viewbox()).transform((new r.default.Matrix).translate(s[0],s[1]));this.svg.viewbox(a),this.lastP=n}},{key:"zoom",value:function(e,t){var n=window.getComputedStyle(this.svg.node),o=parseFloat(n.getPropertyValue("width")),i=parseFloat(n.getPropertyValue("height")),s=this.svg.viewbox(),a=o/s.width,l=i/s.height,u=Math.min(a,l);if(null==e)return u;var c=u/e;c===1/0&&(c=this.zoomMin),t=t||new r.default.Point(o/2/a+s.x,i/2/l+s.y);var f=new r.default.Box(s).transform((new r.default.Matrix).scale(c,t.x,t.y));return this.bounds&&(f=this.checkBounds(f)),this.svg.fire("zoom",{box:f,focus:t}).event().defaultPrevented?this:this.svg.viewbox(f)}},{key:"checkBounds",value:function(e){var t=this.getOriginSize(),n=t.width-e.width,o=t.height-e.height;return e.x<0?e.x=0:e.x>n&&(e.x=n),e.y<0?e.y=0:e.y>o&&(e.y=o),e}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),s=(o=r)&&o.__esModule?o:{default:o},a=n(0),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.svg=e,o.index=n.index,o.elem=null,o.plot=n.plot,o.groupPolygons=n.groupPolygons,o.groupCircles=n.groupCircles,o.onAfterCreatPolygon=n.onAfterCreatPolygon,o.onBeforeRemovePolygon=n.onBeforeRemovePolygon,o.points=[],o.init(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"init",value:function(){this.elem=this.createElem("polygon",this.plot),this.plot=this.elem.array().value,this.createPoints(),this.elem.on("focus.Polygon",this.onFocus.bind(this)).on("blur.Polygon",this.onBlur.bind(this)),this.triggerCallback(this.onAfterCreatPolygon.bind(this),this.plot)}},{key:"onFocus",value:function(){this.elem.addClass(a.CLASSES.polygonFocus).on("keyup.Polygon",this.onKeyup.bind(this))}},{key:"onBlur",value:function(){this.elem.removeClass(a.CLASSES.polygonFocus).off("keyup.Polygon")}},{key:"onKeyup",value:function(e){a.KEY_CODE.DELETE===e.keyCode&&this.remove()}},{key:"remove",value:function(){this.triggerCallback(this.onBeforeRemovePolygon.bind(this),this.index),this.removePoints(),this.elem.remove(),this.svg.fire(a.EVENTS.REMOVE_POLYGON,{index:this.index})}},{key:"createPoints",value:function(){var e=this;this.plot.map(function(t){var n=e.createCircle(t[0],t[1]);e.points.push(n)})}},{key:"removePoints",value:function(){this.points.map(function(e){e.remove()})}}]),t}();t.default=l},function(e,t){}]);